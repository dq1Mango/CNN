<!DOCTYPE html5>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Free Data!!!</title>
    <style>
    .center {
  position: absolute;
  margin: auto;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
    
    </style>
  </head>

  <body>
    <main>
      <h1 id="title">Welcome to My Website</h1>
      <canvas id="canvas" class="center"></canvas>   

    </main>
  </body>

<script>

  const canvas = document.getElementById("canvas");

 //const rect = canvas.getBoundingClientRect();
 //canvas.width = rect.width * 4;
 //canvas.height = rect.height * 1;


// Set the "drawn" size of the canvas
//canvas.style.width = `${rect.width}px`;
//canvas.style.height = `${rect.height}px`;

  

  function getMousePos(canvas, evt) {
    var rect = canvas.getBoundingClientRect();
     return {
      x: evt.clientX - rect.left,
      y: evt.clientY - rect.top
    };
  }
  
  
  var array = new Array(64);

  for (var i = 0; i < 64; i++) {
    array[i] = new Array(64);
  }

  for (var i = 0; i < 64; i++) {
    for (var j = 0; j < 64; j++) {
      array[i][j] = false
    }
  }
  
  const title = document.getElementById("title")
  width = window.innerWidth 
  console.log("padding :", title.getBoundingClientRect().height)
  height = window.innerHeight - title.getBoundingClientRect().height //yeah yeah ill fix it later
  
  console.log(height)
  console.log(width)
  size = Math.floor(height / 64)
  pad = height % 64 / 2
  console.log(size)

  canvas.width = size * 64;  
  canvas.height = size * 64;

  console.log(canvas.width, canvas.height)
  

  const ctx = canvas.getContext("2d");
  //ctx.fillStyle = "green";
  //ctx.fillRect(0, 0, 64 * size, 64 * size)
  ctx.flllStyle = "black"
  //ctx.fillRect(63, 61, 373, 571)
  
  let drawing = false
  canvas.addEventListener('mousedown', (event) => {
    console.log("real news")
    drawing = true
  })
  canvas.addEventListener('mouseup', (event) => {
    drawing = false
  })

  function drawBox(x, y) {
    //console.log(x * size, y * size, (x + 1)* size - 1, (y + 1) * size - 1 )
    ctx.fillRect(x * size, y * size, size, size)
    //console.log("drew")
  }

  canvas.addEventListener('mousemove', (event) => {
    //console.log("we moved!!")
    if (! drawing) {
      return
    }
    x = event.offsetX;
    y = event.offsetY;

    x = Math.floor(x / size);
    y = Math.floor(y / size);

    array[y][x] = true;
    drawBox(x, y)
    //console.log(x, y)

  });
 

 console.log(array)
</script>

</html>
